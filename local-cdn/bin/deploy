#!/usr/bin/env node

// Usage: deploy <config-file> [--no-compress]

var cdn = require('../index');

/**
 * arg list:
 * 0 - node
 * 1 - deploy
 * 2 - config-file
 */
var args = process.argv;

if (args.length < 3) {
    console.log("Usage: serve <config-file> [--no-compress]");
}

var configFilePath = args[2];
var config = cdn.config.fromFileSync(configFilePath);

if (args[3] && args[3] === '--no-compress') {
    config.compress = false;
}

cdn.deploy(config);
